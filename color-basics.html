<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Chapter 5 Color scales | EPIB607</title>
<meta name="author" content="Sahir Bhatnagar and James A Hanley">
<meta name="description" content="This section is reproduced from the book Fundamentals of Data Visualization18 Packages used in this Section pacman::p_load(  cowplot,  colorspace,  colorblindr, #...">
<meta name="generator" content="bookdown 0.24 with bs4_book()">
<meta property="og:title" content="Chapter 5 Color scales | EPIB607">
<meta property="og:type" content="book">
<meta property="og:url" content="https://sahirbhatnagar.com/EPIB607/color-basics.html">
<meta property="og:description" content="This section is reproduced from the book Fundamentals of Data Visualization18 Packages used in this Section pacman::p_load(  cowplot,  colorspace,  colorblindr, #...">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Chapter 5 Color scales | EPIB607">
<meta name="twitter:description" content="This section is reproduced from the book Fundamentals of Data Visualization18 Packages used in this Section pacman::p_load(  cowplot,  colorspace,  colorblindr, #...">
<!-- JS --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://kit.fontawesome.com/6ecbd6c532.js" crossorigin="anonymous"></script><script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="libs/bootstrap-4.6.0/bootstrap.min.css" rel="stylesheet">
<script src="libs/bootstrap-4.6.0/bootstrap.bundle.min.js"></script><script src="libs/bs3compat-0.3.1/transition.js"></script><script src="libs/bs3compat-0.3.1/tabs.js"></script><script src="libs/bs3compat-0.3.1/bs3compat.js"></script><link href="libs/bs4_book-1.0.0/bs4_book.css" rel="stylesheet">
<script src="libs/bs4_book-1.0.0/bs4_book.js"></script><script src="libs/accessible-code-block-0.0.1/empty-anchor.js"></script><script src="libs/kePrint-0.0.1/kePrint.js"></script><link href="libs/lightable-0.0.1/lightable.css" rel="stylesheet">
<link href="libs/bsTable-3.3.7/bootstrapTable.min.css" rel="stylesheet">
<script src="libs/bsTable-3.3.7/bootstrapTable.js"></script><script src="libs/htmlwidgets-1.5.4/htmlwidgets.js"></script><link href="libs/datatables-css-0.0.0/datatables-crosstalk.css" rel="stylesheet">
<script src="libs/datatables-binding-0.20/datatables.js"></script><link href="libs/dt-core-1.11.3/css/jquery.dataTables.min.css" rel="stylesheet">
<link href="libs/dt-core-1.11.3/css/jquery.dataTables.extra.css" rel="stylesheet">
<script src="libs/dt-core-1.11.3/js/jquery.dataTables.min.js"></script><link href="libs/crosstalk-1.2.0/css/crosstalk.min.css" rel="stylesheet">
<script src="libs/crosstalk-1.2.0/js/crosstalk.min.js"></script><link href="libs/nouislider-7.0.10/jquery.nouislider.min.css" rel="stylesheet">
<script src="libs/nouislider-7.0.10/jquery.nouislider.min.js"></script><link href="libs/selectize-0.12.0/selectize.bootstrap3.css" rel="stylesheet">
<script src="libs/selectize-0.12.0/selectize.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- CSS --><link rel="stylesheet" href="templates/bs4_style.css">
<link rel="stylesheet" href="templates/ims-style.css">
<link rel="stylesheet" href="templates/corrections.css">
</head>
<body data-spy="scroll" data-target="#toc">

<div class="container-fluid">
<div class="row">
  <header class="col-sm-12 col-lg-3 sidebar sidebar-book"><a class="sr-only sr-only-focusable" href="#content">Skip to main content</a>

    <div class="d-flex align-items-start justify-content-between">
      <h1>
        <a href="index.html" title="">EPIB607</a>
      </h1>
      <button class="btn btn-outline-primary d-lg-none ml-2 mt-1" type="button" data-toggle="collapse" data-target="#main-nav" aria-expanded="true" aria-controls="main-nav"><i class="fas fa-bars"></i><span class="sr-only">Show table of contents</span></button>
    </div>

    <div id="main-nav" class="collapse-lg">
      <form role="search">
        <input id="search" class="form-control" type="search" placeholder="Search" aria-label="Search">
</form>

      <nav aria-label="Table of contents"><h2>Table of contents</h2>
        <ul class="book-toc list-unstyled">
<li><a class="" href="index.html">Preface</a></li>
<li><a class="" href="schedule.html">Schedule</a></li>
<li><a class="" href="syllabus.html">Syllabus</a></li>
<li class="book-part">Descriptive Statistics</li>
<li><a class="" href="introdata.html"><span class="header-section-number">1</span> Introduction to Data</a></li>
<li><a class="" href="aesthetic-mapping.html"><span class="header-section-number">2</span> Visualizing data: Mapping data onto aesthetics</a></li>
<li><a class="" href="coordinate-systems-axes.html"><span class="header-section-number">3</span> Coordinate systems and axes</a></li>
<li><a class="" href="ggplot2-package-for-plots.html"><span class="header-section-number">4</span> ggplot2 package for plots</a></li>
<li><a class="active" href="color-basics.html"><span class="header-section-number">5</span> Color scales</a></li>
<li class="book-part">Sampling Distributions</li>
<li><a class="" href="paras.html"><span class="header-section-number">6</span> Statistical Parameters</a></li>
<li><a class="" href="ChapProbability.html"><span class="header-section-number">7</span> Probability</a></li>
<li><a class="" href="randomVariables.html"><span class="header-section-number">8</span> Random Variables</a></li>
<li><a class="" href="ChapNormal.html"><span class="header-section-number">9</span> The Normal Random Variable</a></li>
<li><a class="" href="ChapSampDist.html"><span class="header-section-number">10</span> The Sampling Distribution</a></li>
<li><a class="" href="CI.html"><span class="header-section-number">11</span> Parameter Intervals</a></li>
<li><a class="" href="foundations-bootstrapping.html"><span class="header-section-number">12</span> Confidence intervals with bootstrapping</a></li>
<li class="book-part">One Sample Inference</li>
<li><a class="" href="inference-one-mean.html"><span class="header-section-number">13</span> Inference for a single mean</a></li>
<li><a class="" href="ChapBinom.html"><span class="header-section-number">14</span> Binomial Random Variable</a></li>
<li><a class="" href="inference-one-prop.html"><span class="header-section-number">15</span> Inference for a single proportion</a></li>
<li class="book-part">Computing</li>
<li><a class="" href="install.html"><span class="header-section-number">16</span> Installing R and RStudio</a></li>
<li><a class="" href="basics.html"><span class="header-section-number">17</span> Basics of R and Rstudio</a></li>
<li><a class="" href="projects.html"><span class="header-section-number">18</span> RStudio Projects</a></li>
<li><a class="" href="functionsHOP.html"><span class="header-section-number">19</span> Functions</a></li>
<li><a class="" href="packages.html"><span class="header-section-number">20</span> Packages</a></li>
<li><a class="" href="import.html"><span class="header-section-number">21</span> Data Import and Export</a></li>
<li><a class="" href="transition-to-r-from-excel-stata-sas.html"><span class="header-section-number">22</span> Transition to R from Excel, Stata, SAS</a></li>
<li><a class="" href="references.html">References</a></li>
</ul>

        <div class="book-extra">
          
        </div>
      </nav>
</div>
  </header><main class="col-sm-12 col-md-9 col-lg-7" id="content"><div id="color-basics" class="section level1">
<h1>
<span class="header-section-number">5</span> Color scales<a class="anchor" aria-label="anchor" href="#color-basics"><i class="fas fa-link"></i></a>
</h1>
<div class="rmdnote">
<p>This section is reproduced from the book Fundamentals of Data Visualization<span class="citation"><a class="footnote-ref" tabindex="0" data-toggle="popover" data-content="&lt;p&gt;Wilke, &lt;em&gt;Fundamentals of Data Visualization&lt;/em&gt;.&lt;/p&gt;"><sup>18</sup></a></span></p>
</div>
<p><strong>Packages used in this Section</strong></p>
<div class="sourceCode" id="cb35"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu">pacman</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/pacman/man/p_load.html">p_load</a></span><span class="op">(</span>
  <span class="va">cowplot</span>,
  <span class="va">colorspace</span>,
  <span class="va">colorblindr</span>, <span class="co"># devtools::install_github("clauswilke/colorblindr")</span>
  <span class="va">dviz.supp</span>, <span class="co"># devtools::install_github("clauswilke/dviz.supp")</span>
  <span class="va">forcats</span>,
  <span class="va">patchwork</span>,
  <span class="va">lubridate</span>,
  <span class="va">tidyr</span>, 
  <span class="va">ggplot2</span>,
  <span class="va">sf</span>
<span class="op">)</span></code></pre></div>
<p>There are three fundamental use cases for color in data visualizations: (i) we can use color to distinguish groups of data from each other; (ii) we can use color to represent data values; and (iii) we can use color to highlight. The types of colors we use and the way in which we use them are quite different for these three cases.</p>
<div id="color-as-a-tool-to-distinguish" class="section level2">
<h2>
<span class="header-section-number">5.1</span> Color as a tool to distinguish<a class="anchor" aria-label="anchor" href="#color-as-a-tool-to-distinguish"><i class="fas fa-link"></i></a>
</h2>
<p>We frequently use color as a means to distinguish discrete items or groups that do not have an intrinsic order, such as different countries on a map or different manufacturers of a certain product. In this case, we use a <em>qualitative</em> color scale. Such a scale contains a finite set of specific colors that are chosen to look clearly distinct from each other while also being equivalent to each other. The second condition requires that no one color should stand out relative to the others. And, the colors should not create the impression of an order, as would be the case with a sequence of colors that get successively lighter. Such colors would create an apparent order among the items being colored, which by definition have no order.</p>
<p>Many appropriate qualitative color scales are readily available. Figure <a href="color-basics.html#fig:qualitative-scales">5.1</a> shows three representative examples. In particular, the ColorBrewer project provides a nice selection of qualitative color scales, including both fairly light and fairly dark colors.<span class="citation"><a class="footnote-ref" tabindex="0" data-toggle="popover" data-content='&lt;p&gt;Cynthia A. Brewer, “ColorBrewer 2.0. Color Advice for Cartography,” 2017, &lt;a href="http://www.ColorBrewer.org" role="doc-biblioref"&gt;http://www.ColorBrewer.org&lt;/a&gt;.&lt;/p&gt;'><sup>19</sup></a></span></p>

<div class="figure">
<span style="display:block;" id="fig:qualitative-scales"></span>
<img src="06-color-scales_files/figure-html/qualitative-scales-1.png" alt="Example qualitative color scales. The Okabe Ito scale is the default scale used throughout this book.20 The ColorBrewer Dark2 scale is provided by the ColorBrewer project.21 The ggplot2 hue scale is the default qualitative scale in the widely used plotting software ggplot2." width="685.714285714286"><p class="caption">
Figure 5.1: Example qualitative color scales. The Okabe Ito scale is the default scale used throughout this book.<span class="citation"><a class="footnote-ref" tabindex="0" data-toggle="popover" data-content='&lt;p&gt;M. Okabe and K. Ito, “Color Universal Design (CUD): How to Make Figures and Presentations That Are Friendly to Colorblind People,” 2008, &lt;a href="http://jfly.iam.u-tokyo.ac.jp/color/" role="doc-biblioref"&gt;http://jfly.iam.u-tokyo.ac.jp/color/&lt;/a&gt;.&lt;/p&gt;'><sup>20</sup></a></span> The ColorBrewer Dark2 scale is provided by the ColorBrewer project.<span class="citation"><a class="footnote-ref" tabindex="0" data-toggle="popover" data-content="&lt;p&gt;Brewer, “ColorBrewer 2.0. Color Advice for Cartography.”&lt;/p&gt;"><sup>21</sup></a></span> The ggplot2 hue scale is the default qualitative scale in the widely used plotting software ggplot2.
</p>
</div>
<p>As an example of how we use qualitative color scales, consider Figure <a href="color-basics.html#fig:popgrowth-US">5.2</a>. It shows the percent population growth from 2000 to 2010 in U.S. states. I have arranged the states in order of their population growth, and I have colored them by geographic region. This coloring highlights that states in the same regions have experienced similar population growth. In particular, states in the West and the South have seen the largest population increases whereas states in the Midwest and the Northeast have grown much less.</p>

<div class="sourceCode" id="cb36"><pre class="downlit sourceCode r">
<code class="sourceCode R">
<span class="fu"><a href="https://rdrr.io/r/utils/data.html">data</a></span><span class="op">(</span><span class="st">"US_census"</span><span class="op">)</span> <span class="co"># from dviz.supp package</span>
<span class="fu"><a href="https://rdrr.io/r/utils/data.html">data</a></span><span class="op">(</span><span class="st">"US_regions"</span><span class="op">)</span> <span class="co"># from dviz.supp package</span>

<span class="va">popgrowth_df</span> <span class="op">&lt;-</span> <span class="fu">left_join</span><span class="op">(</span><span class="va">US_census</span>, <span class="va">US_regions</span><span class="op">)</span> <span class="op">%&gt;%</span>
    <span class="fu">group_by</span><span class="op">(</span><span class="va">region</span>, <span class="va">division</span>, <span class="va">state</span><span class="op">)</span> <span class="op">%&gt;%</span>
    <span class="fu">summarize</span><span class="op">(</span>pop2000 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html">sum</a></span><span class="op">(</span><span class="va">pop2000</span>, na.rm <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>,
              pop2010 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html">sum</a></span><span class="op">(</span><span class="va">pop2010</span>, na.rm <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>,
              popgrowth <span class="op">=</span> <span class="op">(</span><span class="va">pop2010</span><span class="op">-</span><span class="va">pop2000</span><span class="op">)</span><span class="op">/</span><span class="va">pop2000</span>,
              area <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html">sum</a></span><span class="op">(</span><span class="va">area</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span>
    <span class="fu">arrange</span><span class="op">(</span><span class="va">popgrowth</span><span class="op">)</span> <span class="op">%&gt;%</span>
    <span class="fu">ungroup</span><span class="op">(</span><span class="op">)</span> <span class="op">%&gt;%</span>
    <span class="fu">mutate</span><span class="op">(</span>state <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html">factor</a></span><span class="op">(</span><span class="va">state</span>, levels <span class="op">=</span> <span class="va">state</span><span class="op">)</span>,
           region <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html">factor</a></span><span class="op">(</span><span class="va">region</span>, levels <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"West"</span>, <span class="st">"South"</span>, <span class="st">"Midwest"</span>, <span class="st">"Northeast"</span><span class="op">)</span><span class="op">)</span><span class="op">)</span>

<span class="co"># make color vector in order of the state</span>
<span class="va">region_colors</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"#E69F00"</span>, <span class="st">"#56B4E9"</span>, <span class="st">"#009E73"</span>, <span class="st">"#F0E442"</span><span class="op">)</span>
<span class="va">region_colors_dark</span> <span class="op">&lt;-</span> <span class="fu">darken</span><span class="op">(</span><span class="va">region_colors</span>, <span class="fl">0.4</span><span class="op">)</span>
<span class="va">state_colors</span> <span class="op">&lt;-</span> <span class="va">region_colors_dark</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/numeric.html">as.numeric</a></span><span class="op">(</span><span class="va">popgrowth_df</span><span class="op">$</span><span class="va">region</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/order.html">order</a></span><span class="op">(</span><span class="va">popgrowth_df</span><span class="op">$</span><span class="va">state</span><span class="op">)</span><span class="op">]</span><span class="op">)</span><span class="op">]</span>

<span class="fu">ggplot</span><span class="op">(</span><span class="va">popgrowth_df</span>, <span class="fu">aes</span><span class="op">(</span>x <span class="op">=</span> <span class="va">state</span>, y <span class="op">=</span> <span class="fl">100</span><span class="op">*</span><span class="va">popgrowth</span>, fill <span class="op">=</span> <span class="va">region</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> 
  <span class="fu">geom_col</span><span class="op">(</span><span class="op">)</span> <span class="op">+</span> 
  <span class="fu">scale_y_continuous</span><span class="op">(</span>
    limits <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="op">-</span><span class="fl">.6</span>, <span class="fl">37.5</span><span class="op">)</span>, expand <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">0</span><span class="op">)</span>,
    labels <span class="op">=</span> <span class="fu">scales</span><span class="fu">::</span><span class="fu"><a href="https://scales.r-lib.org/reference/label_percent.html">percent_format</a></span><span class="op">(</span>accuracy <span class="op">=</span> <span class="fl">1</span>, scale <span class="op">=</span> <span class="fl">1</span><span class="op">)</span>,
    name <span class="op">=</span> <span class="st">"population growth, 2000 to 2010"</span>
  <span class="op">)</span> <span class="op">+</span>
  <span class="fu">scale_fill_manual</span><span class="op">(</span>values <span class="op">=</span> <span class="va">region_colors</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu">coord_flip</span><span class="op">(</span><span class="op">)</span> <span class="op">+</span> 
  <span class="fu">theme_dviz_vgrid_2</span><span class="op">(</span><span class="fl">12</span>, rel_small <span class="op">=</span> <span class="fl">1</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu">theme</span><span class="op">(</span>axis.title.y <span class="op">=</span> <span class="fu">element_blank</span><span class="op">(</span><span class="op">)</span>,
        axis.line.y <span class="op">=</span> <span class="fu">element_blank</span><span class="op">(</span><span class="op">)</span>,
        axis.ticks.length <span class="op">=</span> <span class="fu">unit</span><span class="op">(</span><span class="fl">0</span>, <span class="st">"pt"</span><span class="op">)</span>,
        axis.text.y <span class="op">=</span> <span class="fu">element_text</span><span class="op">(</span>size <span class="op">=</span> <span class="fl">10</span>, color <span class="op">=</span> <span class="va">state_colors</span><span class="op">)</span>,
        legend.position <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">.56</span>, <span class="fl">.68</span><span class="op">)</span>,
        legend.background <span class="op">=</span> <span class="fu">element_rect</span><span class="op">(</span>fill <span class="op">=</span> <span class="st">"#ffffffb0"</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<div class="figure">
<span style="display:block;" id="fig:popgrowth-US"></span>
<img src="06-color-scales_files/figure-html/popgrowth-US-1.png" alt="Population growth in the U.S. from 2000 to 2010. States in the West and South have seen the largest increases, whereas states in the Midwest and Northeast have seen much smaller increases or even, in the case of Michigan, a decrease. Data source: U.S. Census Bureau" width="576"><p class="caption">
Figure 5.2: Population growth in the U.S. from 2000 to 2010. States in the West and South have seen the largest increases, whereas states in the Midwest and Northeast have seen much smaller increases or even, in the case of Michigan, a decrease. Data source: U.S. Census Bureau
</p>
</div>
</div>
<div id="color-to-represent-data-values" class="section level2">
<h2>
<span class="header-section-number">5.2</span> Color to represent data values<a class="anchor" aria-label="anchor" href="#color-to-represent-data-values"><i class="fas fa-link"></i></a>
</h2>
<p>Color can also be used to represent data values, such as income, temperature, or speed. In this case, we use a <em>sequential</em> color scale. Such a scale contains a sequence of colors that clearly indicate (i) which values are larger or smaller than which other ones and (ii) how distant two specific values are from each other. The second point implies that the color scale needs to be perceived to vary uniformly across its entire range.</p>
<p>Sequential scales can be based on a single hue (e.g., from dark blue to light blue) or on multiple hues (e.g., from dark red to light yellow) (Figure <a href="color-basics.html#fig:sequential-scales">5.3</a>). Multi-hue scales tend to follow color gradients that can be seen in the natural world, such as dark red, green, or blue to light yellow, or dark purple to light green. The reverse, e.g. dark yellow to light blue, looks unnatural and doesn’t make a useful sequential scale.</p>

<div class="figure">
<span style="display:block;" id="fig:sequential-scales"></span>
<img src="06-color-scales_files/figure-html/sequential-scales-1.png" alt="Example sequential color scales. The ColorBrewer Blues scale is a monochromatic scale that varies from dark to light blue. The Heat and Viridis scales are multi-hue scales that vary from dark red to light yellow and from dark blue via green to light yellow, respectively." width="685.714285714286"><p class="caption">
Figure 5.3: Example sequential color scales. The ColorBrewer Blues scale is a monochromatic scale that varies from dark to light blue. The Heat and Viridis scales are multi-hue scales that vary from dark red to light yellow and from dark blue via green to light yellow, respectively.
</p>
</div>
<p>Representing data values as colors is particularly useful when we want to show how the data values vary across geographic regions. In this case, we can draw a map of the geographic regions and color them by the data values. Such maps are called <em>choropleths</em>. Figure <a href="color-basics.html#fig:map-Texas-income">5.4</a> shows an example where I have mapped annual median income within each county in Texas onto a map of those counties.</p>

<div class="sourceCode" id="cb37"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># B19013_001: Median household income in the past 12 months (in 2015 Inflation-adjusted dollars)</span>

<span class="co"># EPSG:3083</span>
<span class="co"># NAD83 / Texas Centric Albers Equal Area</span>
<span class="co"># http://spatialreference.org/ref/epsg/3083/</span>
<span class="va">texas_crs</span> <span class="op">&lt;-</span> <span class="st">"+proj=aea +lat_1=27.5 +lat_2=35 +lat_0=18 +lon_0=-100 +x_0=1500000 +y_0=6000000 +ellps=GRS80 +datum=NAD83 +units=m +no_defs"</span>

<span class="co"># -110, -93.5 transformed using texas_crs</span>
<span class="va">texas_xlim</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">558298.7</span>, <span class="fl">2112587</span><span class="op">)</span>

<span class="fu"><a href="https://rdrr.io/r/utils/data.html">data</a></span><span class="op">(</span><span class="st">"texas_income"</span><span class="op">)</span> <span class="co"># from dviz.supp package</span>

<span class="va">texas_income</span> <span class="op">%&gt;%</span> <span class="fu">st_transform</span><span class="op">(</span>crs <span class="op">=</span> <span class="va">texas_crs</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu">ggplot</span><span class="op">(</span><span class="fu">aes</span><span class="op">(</span>fill <span class="op">=</span> <span class="va">estimate</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> 
  <span class="fu">geom_sf</span><span class="op">(</span>color <span class="op">=</span> <span class="st">"white"</span><span class="op">)</span> <span class="op">+</span> 
  <span class="fu">coord_sf</span><span class="op">(</span>xlim <span class="op">=</span> <span class="va">texas_xlim</span>, datum <span class="op">=</span> <span class="cn">NA</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu">theme_dviz_map_2</span><span class="op">(</span><span class="op">)</span> <span class="op">+</span> 
  <span class="fu">scale_fill_distiller</span><span class="op">(</span>
    palette <span class="op">=</span> <span class="st">"Blues"</span>, type <span class="op">=</span> <span class="st">'seq'</span>, na.value <span class="op">=</span> <span class="st">"grey60"</span>, direction <span class="op">=</span> <span class="fl">1</span>,
    name <span class="op">=</span> <span class="st">"annual median income (USD)"</span>,
    limits <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">18000</span>, <span class="fl">90000</span><span class="op">)</span>,
    breaks <span class="op">=</span> <span class="fl">20000</span><span class="op">*</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">4</span><span class="op">)</span>,
    labels <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"$20,000"</span>, <span class="st">"$40,000"</span>, <span class="st">"$60,000"</span>, <span class="st">"$80,000"</span><span class="op">)</span>,
    guide <span class="op">=</span> <span class="fu">guide_colorbar</span><span class="op">(</span>
      direction <span class="op">=</span> <span class="st">"horizontal"</span>,
      label.position <span class="op">=</span> <span class="st">"bottom"</span>,
      title.position <span class="op">=</span> <span class="st">"top"</span>,
      ticks <span class="op">=</span> <span class="cn">FALSE</span>,
      barwidth <span class="op">=</span> <span class="fu">grid</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/r/grid/unit.html">unit</a></span><span class="op">(</span><span class="fl">3.0</span>, <span class="st">"in"</span><span class="op">)</span>,
      barheight <span class="op">=</span> <span class="fu">grid</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/r/grid/unit.html">unit</a></span><span class="op">(</span><span class="fl">0.2</span>, <span class="st">"in"</span><span class="op">)</span>
    <span class="op">)</span>
  <span class="op">)</span> <span class="op">+</span>
  <span class="fu">theme</span><span class="op">(</span>
    legend.title.align <span class="op">=</span> <span class="fl">0.5</span>,
    legend.text.align <span class="op">=</span> <span class="fl">0.5</span>,
    legend.justification <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">0</span><span class="op">)</span>,
    legend.position <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">0.02</span>, <span class="fl">0.1</span><span class="op">)</span>
  <span class="op">)</span></code></pre></div>
<div class="figure">
<span style="display:block;" id="fig:map-Texas-income"></span>
<img src="06-color-scales_files/figure-html/map-Texas-income-1.png" alt="Median annual income in Texas counties. The highest median incomes are seen in major Texas metropolitan areas, in particular near Houston and Dallas. No median income estimate is available for Loving County in West Texas and therefore that county is shown in gray. Data source: 2015 Five-Year American Community Survey" width="576"><p class="caption">
Figure 5.4: Median annual income in Texas counties. The highest median incomes are seen in major Texas metropolitan areas, in particular near Houston and Dallas. No median income estimate is available for Loving County in West Texas and therefore that county is shown in gray. Data source: 2015 Five-Year American Community Survey
</p>
</div>
<p>In some cases, we need to visualize the deviation of data values in one of two directions relative to a neutral midpoint. One straightforward example is a dataset containing both positive and negative numbers. We may want to show those with different colors, so that it is immediately obvious whether a value is positive or negative as well as how far in either direction it deviates from zero. The appropriate color scale in this situation is a <em>diverging</em> color scale. We can think of a diverging scale as two sequential scales stitched together at a common midpoint, which usually is represented by a light color (Figure <a href="color-basics.html#fig:diverging-scales">5.5</a>). Diverging scales need to be balanced, so that the progression from light colors in the center to dark colors on the outside is approximately the same in either direction. Otherwise, the perceived magnitude of a data value would depend on whether it fell above or below the midpoint value.</p>

<div class="figure">
<span style="display:block;" id="fig:diverging-scales"></span>
<img src="06-color-scales_files/figure-html/diverging-scales-1.png" alt="Example diverging color scales. Diverging scales can be thought of as two sequential scales stitched together at a common midpoint color. Common color choices for diverging scales include brown to greenish blue, pink to yellow-green, and blue to red." width="685.714285714286"><p class="caption">
Figure 5.5: Example diverging color scales. Diverging scales can be thought of as two sequential scales stitched together at a common midpoint color. Common color choices for diverging scales include brown to greenish blue, pink to yellow-green, and blue to red.
</p>
</div>
<p>As an example application of a diverging color scale, consider Figure <a href="color-basics.html#fig:map-Texas-race">5.6</a>, which shows the percentage of people identifying as white in Texas counties. Even though percentage is always a positive number, a diverging scale is justified here, because 50% is a meaningful midpoint value. Numbers above 50% indicate that whites are in the majority and numbers below 50% indicate the opposite. The visualization clearly shows in which counties whites are in the majority, in which they are in the minority, and in which whites and non-whites occur in approximately equal proportions.</p>

<div class="sourceCode" id="cb38"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/utils/data.html">data</a></span><span class="op">(</span><span class="st">"texas_race"</span><span class="op">)</span> <span class="co"># from dviz.supp package</span>

<span class="va">texas_race</span> <span class="op">%&gt;%</span> <span class="fu">st_sf</span><span class="op">(</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu">st_transform</span><span class="op">(</span>crs <span class="op">=</span> <span class="va">texas_crs</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://rdrr.io/r/stats/filter.html">filter</a></span><span class="op">(</span><span class="va">variable</span> <span class="op">==</span> <span class="st">"White"</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu">ggplot</span><span class="op">(</span><span class="fu">aes</span><span class="op">(</span>fill <span class="op">=</span> <span class="va">pct</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu">geom_sf</span><span class="op">(</span>color <span class="op">=</span> <span class="st">"white"</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu">coord_sf</span><span class="op">(</span>xlim <span class="op">=</span> <span class="va">texas_xlim</span>, datum <span class="op">=</span> <span class="cn">NA</span><span class="op">)</span> <span class="op">+</span> 
  <span class="fu">theme_dviz_map_2</span><span class="op">(</span><span class="op">)</span> <span class="op">+</span> 
  <span class="fu">scale_fill_continuous_divergingx</span><span class="op">(</span>
    palette <span class="op">=</span> <span class="st">"Earth"</span>,
    mid <span class="op">=</span> <span class="fl">50</span>,
    limits <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">100</span><span class="op">)</span>,
    breaks <span class="op">=</span> <span class="fl">25</span><span class="op">*</span><span class="op">(</span><span class="fl">0</span><span class="op">:</span><span class="fl">4</span><span class="op">)</span>,
    labels <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"0% "</span>, <span class="st">"25%"</span>, <span class="st">"50%"</span>, <span class="st">"75%"</span>, <span class="st">" 100%"</span><span class="op">)</span>,
    name <span class="op">=</span> <span class="st">"percent identifying as white"</span>,
    guide <span class="op">=</span> <span class="fu">guide_colorbar</span><span class="op">(</span>
      direction <span class="op">=</span> <span class="st">"horizontal"</span>,
      label.position <span class="op">=</span> <span class="st">"bottom"</span>,
      title.position <span class="op">=</span> <span class="st">"top"</span>,
      ticks <span class="op">=</span> <span class="cn">FALSE</span>,
      barwidth <span class="op">=</span> <span class="fu">grid</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/r/grid/unit.html">unit</a></span><span class="op">(</span><span class="fl">3.0</span>, <span class="st">"in"</span><span class="op">)</span>,
      barheight <span class="op">=</span> <span class="fu">grid</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/r/grid/unit.html">unit</a></span><span class="op">(</span><span class="fl">0.2</span>, <span class="st">"in"</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu">theme</span><span class="op">(</span>
    legend.title.align <span class="op">=</span> <span class="fl">0.5</span>,
    legend.text.align <span class="op">=</span> <span class="fl">0.5</span>,
    legend.justification <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">0</span><span class="op">)</span>,
    legend.position <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">0.02</span>, <span class="fl">0.1</span><span class="op">)</span>
  <span class="op">)</span></code></pre></div>
<div class="figure">
<span style="display:block;" id="fig:map-Texas-race"></span>
<img src="06-color-scales_files/figure-html/map-Texas-race-1.png" alt="Percentage of people identifying as white in Texas counties. Whites are in the majority in North and East Texas but not in South or West Texas. Data source: 2010 Decennial U.S. Census" width="576"><p class="caption">
Figure 5.6: Percentage of people identifying as white in Texas counties. Whites are in the majority in North and East Texas but not in South or West Texas. Data source: 2010 Decennial U.S. Census
</p>
</div>
</div>
<div id="color-as-a-tool-to-highlight" class="section level2">
<h2>
<span class="header-section-number">5.3</span> Color as a tool to highlight<a class="anchor" aria-label="anchor" href="#color-as-a-tool-to-highlight"><i class="fas fa-link"></i></a>
</h2>
<p>Color can also be an effective tool to highlight specific elements in the data. There may be specific categories or values in the dataset that carry key information about the story we want to tell, and we can strengthen the story by emphasizing the relevant figure elements to the reader. An easy way to achieve this emphasis is to color these figure elements in a color or set of colors that vividly stand out against the rest of the figure. This effect can be achieved with <em>accent</em> color scales, which are color scales that contain both a set of subdued colors and a matching set of stronger, darker, and/or more saturated colors (Figure <a href="color-basics.html#fig:accent-scales">5.7</a>).</p>

<div class="figure">
<span style="display:block;" id="fig:accent-scales"></span>
<img src="06-color-scales_files/figure-html/accent-scales-1.png" alt="Example accent color scales, each with four base colors and three accent colors. Accent color scales can be derived in several different ways: (top) we can take an existing color scale (e.g., the Okabe Ito scale, Fig 5.1) and lighten and/or partially desaturate some colors while darkening others; (middle) we can take gray values and pair them with colors; (bottom) we can use an existing accent color scale, e.g. the one from the ColorBrewer project." width="685.714285714286"><p class="caption">
Figure 5.7: Example accent color scales, each with four base colors and three accent colors. Accent color scales can be derived in several different ways: (top) we can take an existing color scale (e.g., the Okabe Ito scale, Fig <a href="color-basics.html#fig:qualitative-scales">5.1</a>) and lighten and/or partially desaturate some colors while darkening others; (middle) we can take gray values and pair them with colors; (bottom) we can use an existing accent color scale, e.g. the one from the ColorBrewer project.
</p>
</div>
<p>As an example of how the same data can support differing stories with different coloring approaches, I have created a variant of Figure <a href="color-basics.html#fig:popgrowth-US">5.2</a> where now I highlight two specific states, Texas and Louisiana (Figure <a href="color-basics.html#fig:popgrowth-US-highlight">5.8</a>). Both states are in the South, they are immediate neighbors, and yet one state (Texas) was the fifth-fastest growing state within the U.S. whereas the other was the third slowest growing from 2000 to 2010.</p>

<div class="sourceCode" id="cb39"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">popgrowth_hilight</span> <span class="op">&lt;-</span> <span class="fu">left_join</span><span class="op">(</span><span class="va">US_census</span>, <span class="va">US_regions</span><span class="op">)</span> <span class="op">%&gt;%</span>
    <span class="fu">group_by</span><span class="op">(</span><span class="va">region</span>, <span class="va">division</span>, <span class="va">state</span><span class="op">)</span> <span class="op">%&gt;%</span>
    <span class="fu">summarize</span><span class="op">(</span>pop2000 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html">sum</a></span><span class="op">(</span><span class="va">pop2000</span>, na.rm <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>,
              pop2010 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html">sum</a></span><span class="op">(</span><span class="va">pop2010</span>, na.rm <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>,
              popgrowth <span class="op">=</span> <span class="op">(</span><span class="va">pop2010</span><span class="op">-</span><span class="va">pop2000</span><span class="op">)</span><span class="op">/</span><span class="va">pop2000</span>,
              area <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html">sum</a></span><span class="op">(</span><span class="va">area</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span>
    <span class="fu">arrange</span><span class="op">(</span><span class="va">popgrowth</span><span class="op">)</span> <span class="op">%&gt;%</span>
    <span class="fu">ungroup</span><span class="op">(</span><span class="op">)</span> <span class="op">%&gt;%</span>
    <span class="fu">mutate</span><span class="op">(</span>region <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/ifelse.html">ifelse</a></span><span class="op">(</span><span class="va">state</span> <span class="op"><a href="https://rdrr.io/r/base/match.html">%in%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"Texas"</span>, <span class="st">"Louisiana"</span><span class="op">)</span>, <span class="st">"highlight"</span>, <span class="va">region</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span>
    <span class="fu">mutate</span><span class="op">(</span>state <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html">factor</a></span><span class="op">(</span><span class="va">state</span>, levels <span class="op">=</span> <span class="va">state</span><span class="op">)</span>,
           region <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html">factor</a></span><span class="op">(</span><span class="va">region</span>, levels <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"West"</span>, <span class="st">"South"</span>, <span class="st">"Midwest"</span>, <span class="st">"Northeast"</span>, <span class="st">"highlight"</span><span class="op">)</span><span class="op">)</span><span class="op">)</span>

<span class="co"># make color and fontface vector in order of the states</span>
<span class="va">region_colors_bars</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fu">desaturate</span><span class="op">(</span><span class="fu">lighten</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"#E69F00"</span>, <span class="st">"#56B4E9"</span>, <span class="st">"#009E73"</span>, <span class="st">"#F0E442"</span><span class="op">)</span>, <span class="fl">.4</span><span class="op">)</span>, <span class="fl">.8</span><span class="op">)</span>, <span class="fu">darken</span><span class="op">(</span><span class="st">"#56B4E9"</span>, <span class="fl">.3</span><span class="op">)</span><span class="op">)</span>
<span class="va">region_colors_axis</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/rep.html">rep</a></span><span class="op">(</span><span class="st">"gray30"</span>, <span class="fl">4</span><span class="op">)</span>, <span class="fu">darken</span><span class="op">(</span><span class="st">"#56B4E9"</span>, <span class="fl">.4</span><span class="op">)</span><span class="op">)</span>
<span class="va">region_fontface</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/rep.html">rep</a></span><span class="op">(</span><span class="st">"plain"</span>, <span class="fl">4</span><span class="op">)</span>, <span class="st">"bold"</span><span class="op">)</span>
<span class="va">state_colors</span> <span class="op">&lt;-</span> <span class="va">region_colors_axis</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/numeric.html">as.numeric</a></span><span class="op">(</span><span class="va">popgrowth_hilight</span><span class="op">$</span><span class="va">region</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/order.html">order</a></span><span class="op">(</span><span class="va">popgrowth_hilight</span><span class="op">$</span><span class="va">state</span><span class="op">)</span><span class="op">]</span><span class="op">)</span><span class="op">]</span>
<span class="va">state_fontface</span> <span class="op">&lt;-</span> <span class="va">region_fontface</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/numeric.html">as.numeric</a></span><span class="op">(</span><span class="va">popgrowth_hilight</span><span class="op">$</span><span class="va">region</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/order.html">order</a></span><span class="op">(</span><span class="va">popgrowth_hilight</span><span class="op">$</span><span class="va">state</span><span class="op">)</span><span class="op">]</span><span class="op">)</span><span class="op">]</span>

<span class="fu">ggplot</span><span class="op">(</span><span class="va">popgrowth_hilight</span>, <span class="fu">aes</span><span class="op">(</span>x <span class="op">=</span> <span class="va">state</span>, y <span class="op">=</span> <span class="fl">100</span><span class="op">*</span><span class="va">popgrowth</span>, fill <span class="op">=</span> <span class="va">region</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> 
  <span class="fu">geom_col</span><span class="op">(</span><span class="op">)</span> <span class="op">+</span> 
  <span class="fu">scale_y_continuous</span><span class="op">(</span>
    limits <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="op">-</span><span class="fl">.6</span>, <span class="fl">37.5</span><span class="op">)</span>, expand <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">0</span><span class="op">)</span>,
    labels <span class="op">=</span> <span class="fu">scales</span><span class="fu">::</span><span class="fu"><a href="https://scales.r-lib.org/reference/label_percent.html">percent_format</a></span><span class="op">(</span>accuracy <span class="op">=</span> <span class="fl">1</span>, scale <span class="op">=</span> <span class="fl">1</span><span class="op">)</span>,
    name <span class="op">=</span> <span class="st">"population growth, 2000 to 2010"</span>
  <span class="op">)</span> <span class="op">+</span>
  <span class="fu">scale_fill_manual</span><span class="op">(</span>
    values <span class="op">=</span> <span class="va">region_colors_bars</span>,
    breaks <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"West"</span>, <span class="st">"South"</span>, <span class="st">"Midwest"</span>, <span class="st">"Northeast"</span><span class="op">)</span>
  <span class="op">)</span> <span class="op">+</span>
  <span class="fu">coord_flip</span><span class="op">(</span><span class="op">)</span> <span class="op">+</span> 
  <span class="fu">theme_dviz_vgrid_2</span><span class="op">(</span><span class="fl">12</span>, rel_small <span class="op">=</span> <span class="fl">1</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu">theme</span><span class="op">(</span>
    text <span class="op">=</span> <span class="fu">element_text</span><span class="op">(</span>color <span class="op">=</span> <span class="st">"gray30"</span><span class="op">)</span>,
    axis.text.x <span class="op">=</span> <span class="fu">element_text</span><span class="op">(</span>color <span class="op">=</span> <span class="st">"gray30"</span><span class="op">)</span>,
    axis.title.y <span class="op">=</span> <span class="fu">element_blank</span><span class="op">(</span><span class="op">)</span>,
    axis.line.y <span class="op">=</span> <span class="fu">element_blank</span><span class="op">(</span><span class="op">)</span>,
    axis.ticks.length <span class="op">=</span> <span class="fu">unit</span><span class="op">(</span><span class="fl">0</span>, <span class="st">"pt"</span><span class="op">)</span>,
    axis.text.y <span class="op">=</span> <span class="fu">element_text</span><span class="op">(</span>
      size <span class="op">=</span> <span class="fl">10</span>, color <span class="op">=</span> <span class="va">state_colors</span>,
      face <span class="op">=</span> <span class="va">state_fontface</span>
    <span class="op">)</span>,
    legend.position <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">.56</span>, <span class="fl">.68</span><span class="op">)</span>,
    legend.background <span class="op">=</span> <span class="fu">element_rect</span><span class="op">(</span>fill <span class="op">=</span> <span class="st">"#ffffffb0"</span><span class="op">)</span>
  <span class="op">)</span></code></pre></div>
<div class="figure">
<span style="display:block;" id="fig:popgrowth-US-highlight"></span>
<img src="06-color-scales_files/figure-html/popgrowth-US-highlight-1.png" alt="From 2000 to 2010, the two neighboring southern states Texas and Louisiana have experienced among the highest and lowest population growth across the U.S. Data source: U.S. Census Bureau" width="576"><p class="caption">
Figure 5.8: From 2000 to 2010, the two neighboring southern states Texas and Louisiana have experienced among the highest and lowest population growth across the U.S. Data source: U.S. Census Bureau
</p>
</div>
<p>When working with accent colors, it is critical that the baseline colors do not compete for attention. Notice how drab the baseline colors are in (Figure <a href="color-basics.html#fig:popgrowth-US-highlight">5.8</a>). Yet they work well to support the accent color. It is easy to make the mistake of using baseline colors that are too colorful, so that they end up competing for the reader’s attention against the accent colors. There is an easy remedy, however. Just remove all color from all elements in the figure except the highlighted data categories or points. An example of this strategy is provided in Figure <a href="color-basics.html#fig:Aus-athletes-track">5.9</a>.</p>

<div class="sourceCode" id="cb40"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/utils/data.html">data</a></span><span class="op">(</span><span class="st">"Aus_athletes"</span><span class="op">)</span> <span class="co"># from dviz.supp package</span>
<span class="va">male_Aus</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/filter.html">filter</a></span><span class="op">(</span><span class="va">Aus_athletes</span>, <span class="va">sex</span><span class="op">==</span><span class="st">"m"</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://rdrr.io/r/stats/filter.html">filter</a></span><span class="op">(</span><span class="va">sport</span> <span class="op"><a href="https://rdrr.io/r/base/match.html">%in%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"basketball"</span>, <span class="st">"field"</span>, <span class="st">"swimming"</span>, <span class="st">"track (400m)"</span>,
                      <span class="st">"track (sprint)"</span>, <span class="st">"water polo"</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu">mutate</span><span class="op">(</span>sport <span class="op">=</span> <span class="fu">case_when</span><span class="op">(</span><span class="va">sport</span> <span class="op">==</span> <span class="st">"track (400m)"</span> <span class="op">~</span> <span class="st">"track"</span>,
                           <span class="va">sport</span> <span class="op">==</span> <span class="st">"track (sprint)"</span> <span class="op">~</span> <span class="st">"track"</span>,
                           <span class="cn">TRUE</span> <span class="op">~</span> <span class="va">sport</span><span class="op">)</span><span class="op">)</span>

<span class="va">male_Aus</span><span class="op">$</span><span class="va">sport</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html">factor</a></span><span class="op">(</span><span class="va">male_Aus</span><span class="op">$</span><span class="va">sport</span>,
                         levels <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"track"</span>, <span class="st">"field"</span>, <span class="st">"water polo"</span>, <span class="st">"basketball"</span>, <span class="st">"swimming"</span><span class="op">)</span><span class="op">)</span>

<span class="va">colors</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"#BD3828"</span>, <span class="fu"><a href="https://rdrr.io/r/base/rep.html">rep</a></span><span class="op">(</span><span class="st">"#808080"</span>, <span class="fl">4</span><span class="op">)</span><span class="op">)</span>
<span class="va">fills</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"#BD3828D0"</span>, <span class="fu"><a href="https://rdrr.io/r/base/rep.html">rep</a></span><span class="op">(</span><span class="st">"#80808080"</span>, <span class="fl">4</span><span class="op">)</span><span class="op">)</span>

<span class="fu">ggplot</span><span class="op">(</span><span class="va">male_Aus</span>, <span class="fu">aes</span><span class="op">(</span>x<span class="op">=</span><span class="va">height</span>, y<span class="op">=</span><span class="va">pcBfat</span>, shape<span class="op">=</span><span class="va">sport</span>, color <span class="op">=</span> <span class="va">sport</span>, fill <span class="op">=</span> <span class="va">sport</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu">geom_point</span><span class="op">(</span>size <span class="op">=</span> <span class="fl">3</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu">scale_shape_manual</span><span class="op">(</span>values <span class="op">=</span> <span class="fl">21</span><span class="op">:</span><span class="fl">25</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu">scale_color_manual</span><span class="op">(</span>values <span class="op">=</span> <span class="va">colors</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu">scale_fill_manual</span><span class="op">(</span>values <span class="op">=</span> <span class="va">fills</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu">xlab</span><span class="op">(</span><span class="st">"height (cm)"</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu">ylab</span><span class="op">(</span><span class="st">"% body fat"</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu">theme_dviz_grid_2</span><span class="op">(</span><span class="op">)</span></code></pre></div>
<div class="figure">
<span style="display:block;" id="fig:Aus-athletes-track"></span>
<img src="06-color-scales_files/figure-html/Aus-athletes-track-1.png" alt="Track athletes are among the shortest and leanest of male professional athletes participating in popular sports. Data source: R. D. Telford and R. B. Cunningham22" width="576"><p class="caption">
Figure 5.9: Track athletes are among the shortest and leanest of male professional athletes participating in popular sports. Data source: <span class="citation">R. D. Telford and R. B. Cunningham<a class="footnote-ref" tabindex="0" data-toggle="popover" data-content="&lt;p&gt;“Sex, Sport, and Body-Size Dependency of Hematology in Highly Trained Athletes,” &lt;em&gt;Medicine and Science in Sports and Exercise&lt;/em&gt; 23 (1991): 788–94.&lt;/p&gt;"><sup>22</sup></a></span>
</p>
</div>
</div>
<div id="using-color-scales-with-ggplot2" class="section level2">
<h2>
<span class="header-section-number">5.4</span> Using color scales with ggplot2<a class="anchor" aria-label="anchor" href="#using-color-scales-with-ggplot2"><i class="fas fa-link"></i></a>
</h2>
<p>All <a href="https://colorspace.r-forge.r-project.org/articles/hcl_palettes.html">HCL-based color palettes</a> in the <code>colorspace</code> package<span class="citation"><a class="footnote-ref" tabindex="0" data-toggle="popover" data-content='&lt;p&gt;Achim Zeileis et al., “colorspace: A Toolbox for Manipulating and Assessing Colors and Palettes,” &lt;em&gt;Journal of Statistical Software&lt;/em&gt; 96, no. 1 (2020): 1–49, &lt;a href="https://doi.org/10.18637/jss.v096.i01" role="doc-biblioref"&gt;https://doi.org/10.18637/jss.v096.i01&lt;/a&gt;.&lt;/p&gt;'><sup>23</sup></a></span> are also provided as discrete, continuous, and binned color scales for the use with the ggplot2 package.<span class="citation"><a class="footnote-ref" tabindex="0" data-toggle="popover" data-content='&lt;p&gt;Hadley Wickham, &lt;em&gt;Ggplot2: Elegant Graphics for Data Analysis&lt;/em&gt; (Springer-Verlag New York, 2016), &lt;a href="https://ggplot2.tidyverse.org" role="doc-biblioref"&gt;https://ggplot2.tidyverse.org&lt;/a&gt;.&lt;/p&gt;'><sup>24</sup></a></span></p>
<p>The scales are called via the scheme</p>
<div class="sourceCode" id="cb41"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb41-1"><a href="color-basics.html#cb41-1"></a>scale_<span class="op">&lt;</span>aesthetic<span class="op">&gt;</span>_<span class="op">&lt;</span>datatype<span class="op">&gt;</span>_<span class="op">&lt;</span>colorscale<span class="op">&gt;</span>()</span></code></pre></div>
<p>where</p>
<ul>
<li>
<code>&lt;aesthetic&gt;</code> is the name of the aesthetic (<code>fill</code>, <code>color</code>, <code>colour</code>).<br>
</li>
<li>
<code>&lt;datatype&gt;</code> is the type of the variable plotted (<code>discrete</code>, <code>continuous</code>, <code>binned</code>).<br>
</li>
<li>
<code>&lt;colorscale&gt;</code> sets the type of the color scale used (qualitative, sequential, diverging).</li>
</ul>
<p>The color palettes can be listed and visualized as follows:</p>
<div class="sourceCode" id="cb42"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># get list of palettes</span>
<span class="fu">hcl_palettes</span><span class="op">(</span><span class="op">)</span>
<span class="co">#&gt; HCL palettes</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Type:  Qualitative </span>
<span class="co">#&gt; Names: Pastel 1, Dark 2, Dark 3, Set 2, Set 3, Warm, Cold,</span>
<span class="co">#&gt;        Harmonic, Dynamic</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Type:  Sequential (single-hue) </span>
<span class="co">#&gt; Names: Grays, Light Grays, Blues 2, Blues 3, Purples 2,</span>
<span class="co">#&gt;        Purples 3, Reds 2, Reds 3, Greens 2, Greens 3,</span>
<span class="co">#&gt;        Oslo</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Type:  Sequential (multi-hue) </span>
<span class="co">#&gt; Names: Purple-Blue, Red-Purple, Red-Blue, Purple-Orange,</span>
<span class="co">#&gt;        Purple-Yellow, Blue-Yellow, Green-Yellow,</span>
<span class="co">#&gt;        Red-Yellow, Heat, Heat 2, Terrain, Terrain 2,</span>
<span class="co">#&gt;        Viridis, Plasma, Inferno, Rocket, Mako, Dark</span>
<span class="co">#&gt;        Mint, Mint, BluGrn, Teal, TealGrn, Emrld,</span>
<span class="co">#&gt;        BluYl, ag_GrnYl, Peach, PinkYl, Burg, BurgYl,</span>
<span class="co">#&gt;        RedOr, OrYel, Purp, PurpOr, Sunset, Magenta,</span>
<span class="co">#&gt;        SunsetDark, ag_Sunset, BrwnYl, YlOrRd, YlOrBr,</span>
<span class="co">#&gt;        OrRd, Oranges, YlGn, YlGnBu, Reds, RdPu, PuRd,</span>
<span class="co">#&gt;        Purples, PuBuGn, PuBu, Greens, BuGn, GnBu,</span>
<span class="co">#&gt;        BuPu, Blues, Lajolla, Turku, Hawaii, Batlow</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Type:  Diverging </span>
<span class="co">#&gt; Names: Blue-Red, Blue-Red 2, Blue-Red 3, Red-Green,</span>
<span class="co">#&gt;        Purple-Green, Purple-Brown, Green-Brown,</span>
<span class="co">#&gt;        Blue-Yellow 2, Blue-Yellow 3, Green-Orange,</span>
<span class="co">#&gt;        Cyan-Magenta, Tropic, Broc, Cork, Vik, Berlin,</span>
<span class="co">#&gt;        Lisbon, Tofino</span>

<span class="co"># plot the qualitative palette</span>
<span class="fu">hcl_palettes</span><span class="op">(</span>type <span class="op">=</span> <span class="st">"qualitative"</span><span class="op">)</span> <span class="op">%&gt;%</span> 
  <span class="va">plot</span></code></pre></div>
<div class="inline-figure"><img src="06-color-scales_files/figure-html/unnamed-chunk-3-1.png" width="672"></div>
<p>A few examples of these scales are illustrated in the following sections.</p>
<div id="examples" class="section level3">
<h3>
<span class="header-section-number">5.4.1</span> Examples<a class="anchor" aria-label="anchor" href="#examples"><i class="fas fa-link"></i></a>
</h3>
<p>A discrete qualitative scale applied to a fill aesthetic corresponds to the function <code><a href="https://colorspace.R-Forge.R-project.org//reference/scale_colour_discrete_qualitative.html">colorspace::scale_fill_discrete_qualitative()</a></code>:</p>
<div class="sourceCode" id="cb43"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu">ggplot</span><span class="op">(</span><span class="va">iris</span>, <span class="fu">aes</span><span class="op">(</span>x <span class="op">=</span> <span class="va">Sepal.Length</span>, fill <span class="op">=</span> <span class="va">Species</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> 
  <span class="fu">geom_density</span><span class="op">(</span>alpha <span class="op">=</span> <span class="fl">0.6</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu">colorspace</span><span class="fu">::</span><span class="fu"><a href="https://colorspace.R-Forge.R-project.org//reference/scale_colour_discrete_qualitative.html">scale_fill_discrete_qualitative</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span> 
  <span class="fu">cowplot</span><span class="fu">::</span><span class="fu"><a href="https://wilkelab.org/cowplot/reference/theme_minimal_grid.html">theme_minimal_hgrid</a></span><span class="op">(</span><span class="op">)</span></code></pre></div>
<div class="inline-figure"><img src="06-color-scales_files/figure-html/unnamed-chunk-4-1.png" width="672"></div>
<p>Similarly, a color aesthetic for a discrete qualitative scale corresponds to the function <code><a href="https://colorspace.R-Forge.R-project.org//reference/scale_colour_discrete_qualitative.html">colorspace::scale_color_discrete_qualitative()</a></code>:</p>
<div class="sourceCode" id="cb44"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu">ggplot</span><span class="op">(</span><span class="va">iris</span>, <span class="fu">aes</span><span class="op">(</span>x <span class="op">=</span> <span class="va">Sepal.Length</span>, y <span class="op">=</span> <span class="va">Sepal.Width</span>, color <span class="op">=</span> <span class="va">Species</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> 
  <span class="fu">geom_point</span><span class="op">(</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu">colorspace</span><span class="fu">::</span><span class="fu"><a href="https://colorspace.R-Forge.R-project.org//reference/scale_colour_discrete_qualitative.html">scale_color_discrete_qualitative</a></span><span class="op">(</span>palette <span class="op">=</span> <span class="st">"Set 2"</span><span class="op">)</span> <span class="op">+</span> 
  <span class="fu">cowplot</span><span class="fu">::</span><span class="fu"><a href="https://wilkelab.org/cowplot/reference/theme_minimal_grid.html">theme_minimal_grid</a></span><span class="op">(</span><span class="op">)</span></code></pre></div>
<div class="inline-figure"><img src="06-color-scales_files/figure-html/unnamed-chunk-5-1.png" width="672"></div>
<p>A continuous sequential scale applied to a color aesthetic corresponds to the function <code><a href="https://colorspace.R-Forge.R-project.org//reference/scale_colour_continuous_sequential.html">colorspace::scale_color_continuous_sequential()</a></code>:</p>
<div class="sourceCode" id="cb45"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu">ggplot</span><span class="op">(</span><span class="va">iris</span>, <span class="fu">aes</span><span class="op">(</span>x <span class="op">=</span> <span class="va">Species</span>, y <span class="op">=</span> <span class="va">Sepal.Width</span>, color <span class="op">=</span> <span class="va">Sepal.Length</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> 
  <span class="fu">geom_jitter</span><span class="op">(</span>width <span class="op">=</span> <span class="fl">0.2</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu">colorspace</span><span class="fu">::</span><span class="fu"><a href="https://colorspace.R-Forge.R-project.org//reference/scale_colour_continuous_sequential.html">scale_color_continuous_sequential</a></span><span class="op">(</span>palette <span class="op">=</span> <span class="st">"Heat"</span><span class="op">)</span> <span class="op">+</span> 
  <span class="fu">cowplot</span><span class="fu">::</span><span class="fu"><a href="https://wilkelab.org/cowplot/reference/theme_minimal_grid.html">theme_minimal_hgrid</a></span><span class="op">(</span><span class="op">)</span></code></pre></div>
<div class="inline-figure"><img src="06-color-scales_files/figure-html/unnamed-chunk-6-1.png" width="672"></div>
<p>A continuous sequential scale applied to a fill aesthetic corresponds to the function <code><a href="https://colorspace.R-Forge.R-project.org//reference/scale_colour_continuous_sequential.html">colorspace::scale_fill_continuous_sequential()</a></code>:</p>
<div class="sourceCode" id="cb46"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">df</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html">data.frame</a></span><span class="op">(</span>height <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="va">volcano</span><span class="op">)</span>, 
                 x <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/row.html">row</a></span><span class="op">(</span><span class="va">volcano</span><span class="op">)</span><span class="op">)</span>, 
                 y <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/col.html">col</a></span><span class="op">(</span><span class="va">volcano</span><span class="op">)</span><span class="op">)</span><span class="op">)</span>
<span class="va">p</span> <span class="op">&lt;-</span> <span class="fu">ggplot</span><span class="op">(</span><span class="va">df</span>, <span class="fu">aes</span><span class="op">(</span><span class="va">x</span>, <span class="va">y</span>, fill <span class="op">=</span> <span class="va">height</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> 
  <span class="fu">geom_raster</span><span class="op">(</span><span class="op">)</span> <span class="op">+</span> 
  <span class="fu">coord_fixed</span><span class="op">(</span>expand <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span>

<span class="va">p</span> <span class="op">+</span> <span class="fu">colorspace</span><span class="fu">::</span><span class="fu"><a href="https://colorspace.R-Forge.R-project.org//reference/scale_colour_continuous_sequential.html">scale_fill_continuous_sequential</a></span><span class="op">(</span>palette <span class="op">=</span> <span class="st">"Blues"</span><span class="op">)</span></code></pre></div>
<div class="inline-figure"><img src="06-color-scales_files/figure-html/unnamed-chunk-7-1.png" width="672"></div>
<p>A binned version of the same sequential scale can be obtained with the function <code><a href="https://colorspace.R-Forge.R-project.org//reference/scale_colour_binned_sequential.html">colorspace::scale_fill_binned_sequential()</a></code>:</p>
<div class="sourceCode" id="cb47"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">p</span> <span class="op">+</span> <span class="fu">colorspace</span><span class="fu">::</span><span class="fu"><a href="https://colorspace.R-Forge.R-project.org//reference/scale_colour_binned_sequential.html">scale_fill_binned_sequential</a></span><span class="op">(</span>palette <span class="op">=</span> <span class="st">"Blues"</span><span class="op">)</span></code></pre></div>
<div class="inline-figure"><img src="06-color-scales_files/figure-html/unnamed-chunk-8-1.png" width="672"></div>
<p>A continuous diverging scale applied to a fill aesthetic corresponds to the function <code><a href="https://colorspace.R-Forge.R-project.org//reference/scale_colour_continuous_diverging.html">colorspace::scale_fill_continuous_diverging()</a></code>:</p>
<div class="sourceCode" id="cb48"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">cm</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/cor.html">cor</a></span><span class="op">(</span><span class="va">mtcars</span><span class="op">)</span>
<span class="va">df</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html">data.frame</a></span><span class="op">(</span>cor <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="va">cm</span><span class="op">)</span>, var1 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html">factor</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/col.html">col</a></span><span class="op">(</span><span class="va">cm</span><span class="op">)</span><span class="op">)</span>, var2 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html">factor</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/row.html">row</a></span><span class="op">(</span><span class="va">cm</span><span class="op">)</span><span class="op">)</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/base/levels.html">levels</a></span><span class="op">(</span><span class="va">df</span><span class="op">$</span><span class="va">var1</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/levels.html">levels</a></span><span class="op">(</span><span class="va">df</span><span class="op">$</span><span class="va">var2</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/names.html">names</a></span><span class="op">(</span><span class="va">mtcars</span><span class="op">)</span>
<span class="fu">ggplot</span><span class="op">(</span><span class="va">df</span>, <span class="fu">aes</span><span class="op">(</span><span class="va">var1</span>, <span class="va">var2</span>, fill <span class="op">=</span> <span class="va">cor</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> 
  <span class="fu">geom_tile</span><span class="op">(</span><span class="op">)</span> <span class="op">+</span> 
  <span class="fu">coord_fixed</span><span class="op">(</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu">ylab</span><span class="op">(</span><span class="st">"variable"</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu">scale_x_discrete</span><span class="op">(</span>position <span class="op">=</span> <span class="st">"top"</span>, name <span class="op">=</span> <span class="st">"variable"</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu">colorspace</span><span class="fu">::</span><span class="fu"><a href="https://colorspace.R-Forge.R-project.org//reference/scale_colour_continuous_diverging.html">scale_fill_continuous_diverging</a></span><span class="op">(</span><span class="st">"Blue-Red 3"</span><span class="op">)</span></code></pre></div>
<div class="inline-figure"><img src="06-color-scales_files/figure-html/unnamed-chunk-9-1.png" width="672"></div>

</div>
</div>
</div>




  <div class="chapter-nav">
<div class="prev"><a href="ggplot2-package-for-plots.html"><span class="header-section-number">4</span> ggplot2 package for plots</a></div>
<div class="next"><a href="paras.html"><span class="header-section-number">6</span> Statistical Parameters</a></div>
</div></main><div class="col-md-3 col-lg-2 d-none d-md-block sidebar sidebar-chapter">
    <nav id="toc" data-toggle="toc" aria-label="On this page"><h2>On this page</h2>
      <ul class="nav navbar-nav">
<li><a class="nav-link" href="#color-basics"><span class="header-section-number">5</span> Color scales</a></li>
<li><a class="nav-link" href="#color-as-a-tool-to-distinguish"><span class="header-section-number">5.1</span> Color as a tool to distinguish</a></li>
<li><a class="nav-link" href="#color-to-represent-data-values"><span class="header-section-number">5.2</span> Color to represent data values</a></li>
<li><a class="nav-link" href="#color-as-a-tool-to-highlight"><span class="header-section-number">5.3</span> Color as a tool to highlight</a></li>
<li>
<a class="nav-link" href="#using-color-scales-with-ggplot2"><span class="header-section-number">5.4</span> Using color scales with ggplot2</a><ul class="nav navbar-nav"><li><a class="nav-link" href="#examples"><span class="header-section-number">5.4.1</span> Examples</a></li></ul>
</li>
</ul>

      <div class="book-extra">
        <ul class="list-unstyled">
          
        </ul>
</div>
    </nav>
</div>

</div>
</div> <!-- .container -->

<footer class="bg-primary text-light mt-5"><div class="container"><div class="row">

  <div class="col-12 col-md-6 mt-3">
    <p>"<strong>EPIB607</strong>" was written by Sahir Bhatnagar and James A Hanley. It was last built on 2021-12-07.</p>
  </div>

  <div class="col-12 col-md-6 mt-3">
    <p>This book was built by the <a class="text-light" href="https://bookdown.org">bookdown</a> R package.</p>
  </div>

</div></div>
</footer><!-- dynamically load mathjax for compatibility with self-contained --><script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script><script type="text/x-mathjax-config">const popovers = document.querySelectorAll('a.footnote-ref[data-toggle="popover"]');
for (let popover of popovers) {
  const div = document.createElement('div');
  div.setAttribute('style', 'position: absolute; top: 0, left:0; width:0, height:0, overflow: hidden; visibility: hidden;');
  div.innerHTML = popover.getAttribute('data-content');

  var has_math = div.querySelector("span.math");
  if (has_math) {
    document.body.appendChild(div);
    MathJax.Hub.Queue(["Typeset", MathJax.Hub, div]);
    MathJax.Hub.Queue(function() {
      popover.setAttribute('data-content', div.innerHTML);
      document.body.removeChild(div);
    })
  }
}
</script>
</body>
</html>
